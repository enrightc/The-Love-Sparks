{% extends 'base.html' %} 
{% load static %} 

{% block content %} 
{% include 'includes/navbar.html' %}

<!-- Main Section -->
<div id="match-page" class="flex-column">
  <div class="container-fluid g-0 stack">
    <!-- Display for Category: Vibe? -->
    <div class="category revealed" id="categoryOne">
      <img
        src="https://images.pexels.com/photos/801863/pexels-photo-801863.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
        alt="Print caption of the displayed photo"
      />
    </div>
    <!-- Display for Category: Interests? -->
    <div class="category" id="categoryTwo">
      <img
        src="https://images.pexels.com/photos/673018/pexels-photo-673018.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
        alt="Print caption of the displayed photo"
      />
    </div>
    <!-- Display for Category: Values? -->
    <div class="category" id="categoryThree">
      <img
        src="https://images.pexels.com/photos/4613879/pexels-photo-4613879.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
        alt="Print caption of the displayed photo"
      />
    </div>
  </div>

  <div class="container-fluid action-buttons text-center">
    <button class="btn btn-dark buttonfont mx-2" id="reveal-spark">
      Spark
    </button>
    <button class="btn btn-dark buttonfont mx-2" id="fire-up" disabled>
      Fire Up!
    </button>
    <button class="btn btn-dark buttonfont mx-2 buttonfont" id="next-match">
      Generate
    </button>
  </div>
</div>

{% include 'includes/footer.html' %}

<script>
const categories = document.querySelectorAll('.category');
const revealBtn = document.getElementById('reveal-spark');
const fireUpBtn = document.getElementById('fire-up');
let revealedCount = 1; // First card is already visible

revealBtn.addEventListener('click', () => {
    if (revealedCount < categories.length) {
        const currentCard = categories[revealedCount];
        currentCard.classList.add('revealed');

        // Adjust stacking effect for remaining cards
        for (let i = revealedCount + 1; i < categories.length; i++) {
            categories[i].classList.add('stacked');
        }

        revealedCount++;
    }

    // Enable "Fire Up!" / Disable "Spark" btns when all cards are revealed
    if (revealedCount === categories.length) {
        fireUpBtn.removeAttribute('disabled');
        revealBtn.setAttribute('disabled', true);
    }
});
</script>

{% endblock %}
